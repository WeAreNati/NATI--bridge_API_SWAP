{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ProvisioningDecision = void 0;\nconst bufferutils_1 = require(\"../../../utils/bufferutils\");\nconst Decision_1 = require(\"../Decision\");\nconst ProvisioningRequest_1 = require(\"./ProvisioningRequest\");\nconst __1 = require(\"../../\");\nconst ProvisioningResult_1 = require(\"./ProvisioningResult\");\nclass ProvisioningDecision extends Decision_1.Decision {\n  constructor(decision = {\n    decision_id: \"\",\n    created_at: 0,\n    request: new ProvisioningRequest_1.ProvisioningRequest()\n  }) {\n    super({\n      decision_id: decision.decision_id,\n      created_at: decision.created_at,\n      salt: decision.salt,\n      context: decision.context,\n      request: decision.request\n    }, __1.LOGIN_CONSENT_PROVISIONING_DECISION_VDXF_KEY.vdxfid);\n    this.result = decision.result != null ? new ProvisioningResult_1.ProvisioningResult(decision.result) : decision.result;\n    this.request = new ProvisioningRequest_1.ProvisioningRequest(decision.request);\n  }\n  dataByteLength() {\n    return super.dataByteLength() + this.result.byteLength();\n  }\n  toDataBuffer() {\n    const superBuf = super.toDataBuffer();\n    const resultBuf = this.result ? this.result.toBuffer() : new ProvisioningResult_1.ProvisioningResult({\n      state: __1.LOGIN_CONSENT_PROVISIONING_RESULT_STATE_FAILED.vdxfid\n    }).toBuffer();\n    const writer = new bufferutils_1.default.BufferWriter(superBuf, super.dataByteLength());\n    writer.writeSlice(resultBuf);\n    return writer.buffer;\n  }\n  toJson() {\n    return {\n      vdxfkey: this.vdxfkey,\n      decision_id: this.decision_id,\n      created_at: this.created_at,\n      salt: this.salt,\n      result: this.result ? this.result.toJson() : null,\n      request: this.request.toJson(),\n      context: this.context ? this.context.toJson() : null\n    };\n  }\n  fromDataBuffer(buffer, offset) {\n    const decision = new Decision_1.Decision(undefined, __1.LOGIN_CONSENT_PROVISIONING_DECISION_VDXF_KEY.vdxfid);\n    let _offset = decision.fromDataBuffer(buffer, offset, false);\n    const reader = new bufferutils_1.default.BufferReader(buffer, _offset);\n    this.request = new ProvisioningRequest_1.ProvisioningRequest();\n    reader.offset = this.request.fromBuffer(buffer, _offset);\n    const _result = new ProvisioningResult_1.ProvisioningResult();\n    reader.offset = _result.fromBuffer(reader.buffer, reader.offset);\n    this.result = _result;\n    this.decision_id = decision.decision_id;\n    this.created_at = decision.created_at;\n    this.salt = decision.salt;\n    this.context = decision.context;\n    return reader.offset;\n  }\n}\nexports.ProvisioningDecision = ProvisioningDecision;","map":{"version":3,"names":["Object","defineProperty","exports","value","ProvisioningDecision","bufferutils_1","require","Decision_1","ProvisioningRequest_1","__1","ProvisioningResult_1","Decision","constructor","decision","decision_id","created_at","request","ProvisioningRequest","salt","context","LOGIN_CONSENT_PROVISIONING_DECISION_VDXF_KEY","vdxfid","result","ProvisioningResult","dataByteLength","byteLength","toDataBuffer","superBuf","resultBuf","toBuffer","state","LOGIN_CONSENT_PROVISIONING_RESULT_STATE_FAILED","writer","default","BufferWriter","writeSlice","buffer","toJson","vdxfkey","fromDataBuffer","offset","undefined","_offset","reader","BufferReader","fromBuffer","_result"],"sources":["/Users/oddfl3x/Code/bridge2/NATI<>bridge_API_SWAP/node_modules/verus-typescript-primitives/dist/vdxf/classes/provisioning/ProvisioningDecision.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProvisioningDecision = void 0;\nconst bufferutils_1 = require(\"../../../utils/bufferutils\");\nconst Decision_1 = require(\"../Decision\");\nconst ProvisioningRequest_1 = require(\"./ProvisioningRequest\");\nconst __1 = require(\"../../\");\nconst ProvisioningResult_1 = require(\"./ProvisioningResult\");\nclass ProvisioningDecision extends Decision_1.Decision {\n    constructor(decision = {\n        decision_id: \"\",\n        created_at: 0,\n        request: new ProvisioningRequest_1.ProvisioningRequest(),\n    }) {\n        super({\n            decision_id: decision.decision_id,\n            created_at: decision.created_at,\n            salt: decision.salt,\n            context: decision.context,\n            request: decision.request,\n        }, __1.LOGIN_CONSENT_PROVISIONING_DECISION_VDXF_KEY.vdxfid);\n        this.result =\n            decision.result != null\n                ? new ProvisioningResult_1.ProvisioningResult(decision.result)\n                : decision.result;\n        this.request = new ProvisioningRequest_1.ProvisioningRequest(decision.request);\n    }\n    dataByteLength() {\n        return super.dataByteLength() + this.result.byteLength();\n    }\n    toDataBuffer() {\n        const superBuf = super.toDataBuffer();\n        const resultBuf = this.result\n            ? this.result.toBuffer()\n            : new ProvisioningResult_1.ProvisioningResult({\n                state: __1.LOGIN_CONSENT_PROVISIONING_RESULT_STATE_FAILED.vdxfid,\n            }).toBuffer();\n        const writer = new bufferutils_1.default.BufferWriter(superBuf, super.dataByteLength());\n        writer.writeSlice(resultBuf);\n        return writer.buffer;\n    }\n    toJson() {\n        return {\n            vdxfkey: this.vdxfkey,\n            decision_id: this.decision_id,\n            created_at: this.created_at,\n            salt: this.salt,\n            result: this.result ? this.result.toJson() : null,\n            request: this.request.toJson(),\n            context: this.context ? this.context.toJson() : null,\n        };\n    }\n    fromDataBuffer(buffer, offset) {\n        const decision = new Decision_1.Decision(undefined, __1.LOGIN_CONSENT_PROVISIONING_DECISION_VDXF_KEY.vdxfid);\n        let _offset = decision.fromDataBuffer(buffer, offset, false);\n        const reader = new bufferutils_1.default.BufferReader(buffer, _offset);\n        this.request = new ProvisioningRequest_1.ProvisioningRequest();\n        reader.offset = this.request.fromBuffer(buffer, _offset);\n        const _result = new ProvisioningResult_1.ProvisioningResult();\n        reader.offset = _result.fromBuffer(reader.buffer, reader.offset);\n        this.result = _result;\n        this.decision_id = decision.decision_id;\n        this.created_at = decision.created_at;\n        this.salt = decision.salt;\n        this.context = decision.context;\n        return reader.offset;\n    }\n}\nexports.ProvisioningDecision = ProvisioningDecision;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}
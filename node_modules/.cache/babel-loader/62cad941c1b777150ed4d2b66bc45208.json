{"ast":null,"code":"import{useEffect}from'react';import{useWeb3React}from'@web3-react/core';import{useToast}from'components/Toast/ToastProvider';import{injectedConnector}from'../connectors/injectedConnector';const useInactiveListener=function(){let suppress=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const{active,error,activate}=useWeb3React();const{addToast}=useToast();// eslint-disable-next-line consistent-return\nuseEffect(()=>{const{ethereum}=window;if(ethereum&&ethereum.on&&!active&&!error&&!suppress){const handleConnect=()=>{addToast({type:'info',description:'connected to wallet'});activate(injectedConnector);};const handleChainChanged=chainId=>{// eslint-disable-next-line no-console\nconsole.log(\"Handling 'chainChanged' event with payload\",chainId);addToast({type:'info',description:'Chain changed!'});activate(injectedConnector);};const handleAccountsChanged=accounts=>{// eslint-disable-next-line no-console\nconsole.log(\"Handling 'accountsChanged' event with payload\",accounts);addToast({type:'info',description:'Account changed!'});if(accounts.length>0){activate(injectedConnector);}};const handleNetworkChanged=networkId=>{// eslint-disable-next-line no-console\nconsole.log(\"Handling 'networkChanged' event with payload\",networkId);addToast({type:'info',description:'Chain changed!'});activate(injectedConnector);};ethereum.on('connect',handleConnect);ethereum.on('chainChanged',handleChainChanged);ethereum.on('accountsChanged',handleAccountsChanged);ethereum.on('networkChanged',handleNetworkChanged);return()=>{if(ethereum.removeListener){ethereum.removeListener('connect',handleConnect);ethereum.removeListener('chainChanged',handleChainChanged);ethereum.removeListener('accountsChanged',handleAccountsChanged);ethereum.removeListener('networkChanged',handleNetworkChanged);}};}},[active,error,suppress,activate]);return null;};export default useInactiveListener;","map":{"version":3,"names":["useEffect","useWeb3React","useToast","injectedConnector","useInactiveListener","suppress","arguments","length","undefined","active","error","activate","addToast","ethereum","window","on","handleConnect","type","description","handleChainChanged","chainId","console","log","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener"],"sources":["/Users/oddfl3x/Code/bridge2/NATI<>bridge_API_SWAP/src/hooks/useInactiveListener.js"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\nimport { useWeb3React } from '@web3-react/core';\r\n\r\nimport { useToast } from 'components/Toast/ToastProvider';\r\n\r\nimport { injectedConnector } from '../connectors/injectedConnector';\r\n\r\nconst useInactiveListener = (suppress = false) => {\r\n  const { active, error, activate } = useWeb3React();\r\n  const { addToast } = useToast();\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  useEffect(() => {\r\n    const { ethereum } = window;\r\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\r\n      const handleConnect = () => {\r\n        addToast({ type: 'info', description: 'connected to wallet'});\r\n        activate(injectedConnector);\r\n      };\r\n      const handleChainChanged = (chainId) => {\r\n        // eslint-disable-next-line no-console\r\n        console.log(\"Handling 'chainChanged' event with payload\", chainId);\r\n        addToast({ type: 'info', description: 'Chain changed!'})\r\n        activate(injectedConnector);\r\n      };\r\n      const handleAccountsChanged = (accounts) => {\r\n        // eslint-disable-next-line no-console\r\n        console.log(\"Handling 'accountsChanged' event with payload\", accounts);\r\n        addToast({ type: 'info', description: 'Account changed!'})\r\n        if (accounts.length > 0) {\r\n          activate(injectedConnector);\r\n        }\r\n      };\r\n      const handleNetworkChanged = (networkId) => {\r\n        // eslint-disable-next-line no-console\r\n        console.log(\"Handling 'networkChanged' event with payload\", networkId);\r\n        addToast({ type: 'info', description: 'Chain changed!'})\r\n        activate(injectedConnector);\r\n      };\r\n\r\n      ethereum.on('connect', handleConnect);\r\n      ethereum.on('chainChanged', handleChainChanged);\r\n      ethereum.on('accountsChanged', handleAccountsChanged);\r\n      ethereum.on('networkChanged', handleNetworkChanged);\r\n\r\n      return () => {\r\n        if (ethereum.removeListener) {\r\n          ethereum.removeListener('connect', handleConnect);\r\n          ethereum.removeListener('chainChanged', handleChainChanged);\r\n          ethereum.removeListener('accountsChanged', handleAccountsChanged);\r\n          ethereum.removeListener('networkChanged', handleNetworkChanged);\r\n        }\r\n      };\r\n    }\r\n  }, [active, error, suppress, activate]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default useInactiveListener;\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CAEjC,OAASC,YAAY,KAAQ,kBAAkB,CAE/C,OAASC,QAAQ,KAAQ,gCAAgC,CAEzD,OAASC,iBAAiB,KAAQ,iCAAiC,CAEnE,KAAM,CAAAC,mBAAmB,CAAG,QAAAA,CAAA,CAAsB,IAArB,CAAAC,QAAQ,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CAC3C,KAAM,CAAEG,MAAM,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAGV,YAAY,CAAC,CAAC,CAClD,KAAM,CAAEW,QAAS,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAE/B;AACAF,SAAS,CAAC,IAAM,CACd,KAAM,CAAEa,QAAS,CAAC,CAAGC,MAAM,CAC3B,GAAID,QAAQ,EAAIA,QAAQ,CAACE,EAAE,EAAI,CAACN,MAAM,EAAI,CAACC,KAAK,EAAI,CAACL,QAAQ,CAAE,CAC7D,KAAM,CAAAW,aAAa,CAAGA,CAAA,GAAM,CAC1BJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,MAAM,CAAEC,WAAW,CAAE,qBAAqB,CAAC,CAAC,CAC7DP,QAAQ,CAACR,iBAAiB,CAAC,CAC7B,CAAC,CACD,KAAM,CAAAgB,kBAAkB,CAAIC,OAAO,EAAK,CACtC;AACAC,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAEF,OAAO,CAAC,CAClER,QAAQ,CAAC,CAAEK,IAAI,CAAE,MAAM,CAAEC,WAAW,CAAE,gBAAgB,CAAC,CAAC,CACxDP,QAAQ,CAACR,iBAAiB,CAAC,CAC7B,CAAC,CACD,KAAM,CAAAoB,qBAAqB,CAAIC,QAAQ,EAAK,CAC1C;AACAH,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAEE,QAAQ,CAAC,CACtEZ,QAAQ,CAAC,CAAEK,IAAI,CAAE,MAAM,CAAEC,WAAW,CAAE,kBAAkB,CAAC,CAAC,CAC1D,GAAIM,QAAQ,CAACjB,MAAM,CAAG,CAAC,CAAE,CACvBI,QAAQ,CAACR,iBAAiB,CAAC,CAC7B,CACF,CAAC,CACD,KAAM,CAAAsB,oBAAoB,CAAIC,SAAS,EAAK,CAC1C;AACAL,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAEI,SAAS,CAAC,CACtEd,QAAQ,CAAC,CAAEK,IAAI,CAAE,MAAM,CAAEC,WAAW,CAAE,gBAAgB,CAAC,CAAC,CACxDP,QAAQ,CAACR,iBAAiB,CAAC,CAC7B,CAAC,CAEDU,QAAQ,CAACE,EAAE,CAAC,SAAS,CAAEC,aAAa,CAAC,CACrCH,QAAQ,CAACE,EAAE,CAAC,cAAc,CAAEI,kBAAkB,CAAC,CAC/CN,QAAQ,CAACE,EAAE,CAAC,iBAAiB,CAAEQ,qBAAqB,CAAC,CACrDV,QAAQ,CAACE,EAAE,CAAC,gBAAgB,CAAEU,oBAAoB,CAAC,CAEnD,MAAO,IAAM,CACX,GAAIZ,QAAQ,CAACc,cAAc,CAAE,CAC3Bd,QAAQ,CAACc,cAAc,CAAC,SAAS,CAAEX,aAAa,CAAC,CACjDH,QAAQ,CAACc,cAAc,CAAC,cAAc,CAAER,kBAAkB,CAAC,CAC3DN,QAAQ,CAACc,cAAc,CAAC,iBAAiB,CAAEJ,qBAAqB,CAAC,CACjEV,QAAQ,CAACc,cAAc,CAAC,gBAAgB,CAAEF,oBAAoB,CAAC,CACjE,CACF,CAAC,CACH,CACF,CAAC,CAAE,CAAChB,MAAM,CAAEC,KAAK,CAAEL,QAAQ,CAAEM,QAAQ,CAAC,CAAC,CAEvC,MAAO,KAAI,CACb,CAAC,CAED,cAAe,CAAAP,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module"}
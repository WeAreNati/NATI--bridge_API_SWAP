{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OptCCParams = void 0;\nconst bscript = require(\"../utils/script\");\nconst evals_1 = require(\"../utils/evals\");\nconst varuint_1 = require(\"../utils/varuint\");\nconst TxDestination_1 = require(\"./TxDestination\");\nconst bn_js_1 = require(\"bn.js\");\nconst bufferutils_1 = require(\"../utils/bufferutils\");\nclass OptCCParams {\n  constructor(data) {\n    if (data === null || data === void 0 ? void 0 : data.version) this.version = data.version;\n    if (data === null || data === void 0 ? void 0 : data.eval_code) this.eval_code = data.eval_code;\n    if (data === null || data === void 0 ? void 0 : data.m) this.m = data.m;\n    if (data === null || data === void 0 ? void 0 : data.n) this.n = data.n;\n    if (data === null || data === void 0 ? void 0 : data.destinations) this.destinations = data.destinations;else this.destinations = [];\n    if (data === null || data === void 0 ? void 0 : data.vdata) this.vdata = data.vdata;else this.vdata = [];\n  }\n  getParamObject() {\n    switch (this.eval_code.toNumber()) {\n      case evals_1.EVALS.EVAL_NONE:\n        {\n          return null;\n        }\n      case evals_1.EVALS.EVAL_STAKEGUARD:\n      case evals_1.EVALS.EVAL_CURRENCY_DEFINITION:\n      case evals_1.EVALS.EVAL_NOTARY_EVIDENCE:\n      case evals_1.EVALS.EVAL_EARNEDNOTARIZATION:\n      case evals_1.EVALS.EVAL_ACCEPTEDNOTARIZATION:\n      case evals_1.EVALS.EVAL_FINALIZE_NOTARIZATION:\n      case evals_1.EVALS.EVAL_CURRENCYSTATE:\n      case evals_1.EVALS.EVAL_RESERVE_TRANSFER:\n      case evals_1.EVALS.EVAL_RESERVE_OUTPUT:\n      case evals_1.EVALS.EVAL_RESERVE_DEPOSIT:\n      case evals_1.EVALS.EVAL_CROSSCHAIN_EXPORT:\n      case evals_1.EVALS.EVAL_CROSSCHAIN_IMPORT:\n      case evals_1.EVALS.EVAL_IDENTITY_PRIMARY:\n      case evals_1.EVALS.EVAL_IDENTITY_COMMITMENT:\n      case evals_1.EVALS.EVAL_IDENTITY_RESERVATION:\n      case evals_1.EVALS.EVAL_FINALIZE_EXPORT:\n      case evals_1.EVALS.EVAL_FEE_POOL:\n      case evals_1.EVALS.EVAL_NOTARY_SIGNATURE:\n        {\n          if (this.vdata.length) {\n            return this.vdata[0];\n          } else {\n            return null;\n          }\n        }\n      default:\n        {\n          return null;\n        }\n    }\n  }\n  isValid() {\n    var validEval = false;\n    switch (this.eval_code.toNumber()) {\n      case evals_1.EVALS.EVAL_NONE:\n        {\n          validEval = true;\n          break;\n        }\n      case evals_1.EVALS.EVAL_STAKEGUARD:\n      case evals_1.EVALS.EVAL_CURRENCY_DEFINITION:\n      case evals_1.EVALS.EVAL_NOTARY_EVIDENCE:\n      case evals_1.EVALS.EVAL_EARNEDNOTARIZATION:\n      case evals_1.EVALS.EVAL_ACCEPTEDNOTARIZATION:\n      case evals_1.EVALS.EVAL_FINALIZE_NOTARIZATION:\n      case evals_1.EVALS.EVAL_CURRENCYSTATE:\n      case evals_1.EVALS.EVAL_RESERVE_TRANSFER:\n      case evals_1.EVALS.EVAL_RESERVE_OUTPUT:\n      case evals_1.EVALS.EVAL_RESERVE_DEPOSIT:\n      case evals_1.EVALS.EVAL_CROSSCHAIN_EXPORT:\n      case evals_1.EVALS.EVAL_CROSSCHAIN_IMPORT:\n      case evals_1.EVALS.EVAL_IDENTITY_PRIMARY:\n      case evals_1.EVALS.EVAL_IDENTITY_COMMITMENT:\n      case evals_1.EVALS.EVAL_IDENTITY_RESERVATION:\n      case evals_1.EVALS.EVAL_FINALIZE_EXPORT:\n      case evals_1.EVALS.EVAL_FEE_POOL:\n      case evals_1.EVALS.EVAL_NOTARY_SIGNATURE:\n        {\n          validEval = this.vdata && this.vdata.length > 0;\n        }\n    }\n    return validEval && this.version.gt(new bn_js_1.BN(0)) && this.version.lt(new bn_js_1.BN(4)) && (this.version.lt(new bn_js_1.BN(3)) && this.eval_code.lt(new bn_js_1.BN(2)) || this.eval_code.lte(new bn_js_1.BN(26)) && this.m.lte(this.n));\n  }\n  static fromChunk(chunk) {\n    const writer = new bufferutils_1.default.BufferWriter(Buffer.alloc(varuint_1.default.encodingLength(chunk.length)), 0);\n    writer.writeCompactSize(chunk.length);\n    const params = new OptCCParams();\n    params.fromBuffer(Buffer.concat([writer.buffer, chunk]));\n    return params;\n  }\n  toChunk() {\n    return this.internalToBuffer(true);\n  }\n  fromBuffer(buffer, offset = 0) {\n    const reader = new bufferutils_1.default.BufferReader(buffer, offset);\n    const scriptInVector = reader.readVarSlice();\n    const chunks = bscript.decompile(scriptInVector);\n    const firstChunk = chunks[0];\n    if (!Buffer.isBuffer(firstChunk)) {\n      throw new Error('invalid first chunk date type');\n    }\n    if (firstChunk.length !== 4) {\n      throw new Error('invalid optional parameters header');\n    }\n    const chunkReader = new bufferutils_1.default.BufferReader(firstChunk, 0);\n    this.version = new bn_js_1.BN(chunkReader.readUInt8());\n    this.eval_code = new bn_js_1.BN(chunkReader.readUInt8());\n    this.m = new bn_js_1.BN(chunkReader.readUInt8());\n    this.n = new bn_js_1.BN(chunkReader.readUInt8());\n    // now, we should have n keys followed by data objects for later versions, otherwise all keys and one data object\n    if (this.version.lte(new bn_js_1.BN(0)) || this.version.gt(new bn_js_1.BN(3)) || this.eval_code.lt(new bn_js_1.BN(0)) || this.eval_code.gt(new bn_js_1.BN(0x1a)) ||\n    // this is the last valid eval code as of version 3\n    this.version.lt(new bn_js_1.BN(3)) && this.n.lt(new bn_js_1.BN(1)) || this.n.gt(new bn_js_1.BN(4)) || this.version.lt(new bn_js_1.BN(3)) && this.n.gte(new bn_js_1.BN(chunks.length)) || this.n.gt(new bn_js_1.BN(chunks.length))) {\n      // invalid header values\n      throw new Error('invalid header values');\n    }\n    // now, we have chunks left that are either destinations or data vectors\n    const limit = this.n.eq(new bn_js_1.BN(chunks.length)) ? this.n : this.n.add(new bn_js_1.BN(1));\n    this.destinations = [];\n    let loop;\n    for (loop = 1; this.version && loop < limit.toNumber(); loop++) {\n      const currChunk = chunks[loop];\n      if (Buffer.isBuffer(currChunk)) {\n        const oneDest = TxDestination_1.TxDestination.fromChunk(currChunk);\n        this.destinations.push(oneDest);\n      }\n    }\n    for (; this.version && loop < chunks.length; loop++) {\n      const currChunk = chunks[loop];\n      if (Buffer.isBuffer(currChunk)) this.vdata.push(currChunk);\n    }\n    return offset;\n  }\n  internalGetByteLength(asChunk) {\n    const chunks = [Buffer.alloc(4)];\n    chunks[0][0] = this.version.toNumber();\n    chunks[0][1] = this.eval_code.toNumber();\n    chunks[0][2] = this.m.toNumber();\n    chunks[0][3] = this.n.toNumber();\n    this.destinations.forEach(x => {\n      chunks.push(x.toChunk());\n    });\n    this.vdata.forEach(x => {\n      chunks.push(x);\n    });\n    const buf = bscript.compile(chunks);\n    return asChunk ? buf.length : varuint_1.default.encodingLength(buf.length) + buf.length;\n  }\n  getByteLength() {\n    return this.internalGetByteLength(false);\n  }\n  internalToBuffer(asChunk) {\n    const chunks = [Buffer.alloc(4)];\n    chunks[0][0] = this.version.toNumber();\n    chunks[0][1] = this.eval_code.toNumber();\n    chunks[0][2] = this.m.toNumber();\n    chunks[0][3] = this.n.toNumber();\n    this.destinations.forEach(x => {\n      chunks.push(x.toChunk());\n    });\n    this.vdata.forEach(x => {\n      chunks.push(x);\n    });\n    const scriptStore = bscript.compile(chunks);\n    const buf = bscript.compile(chunks);\n    const len = asChunk ? buf.length : varuint_1.default.encodingLength(buf.length) + buf.length;\n    const buffer = Buffer.alloc(len);\n    const writer = new bufferutils_1.default.BufferWriter(buffer);\n    if (asChunk) {\n      writer.writeSlice(scriptStore);\n    } else {\n      writer.writeVarSlice(scriptStore);\n    }\n    return writer.buffer;\n  }\n  toBuffer() {\n    return this.internalToBuffer(false);\n  }\n}\nexports.OptCCParams = OptCCParams;","map":{"version":3,"names":["Object","defineProperty","exports","value","OptCCParams","bscript","require","evals_1","varuint_1","TxDestination_1","bn_js_1","bufferutils_1","constructor","data","version","eval_code","m","n","destinations","vdata","getParamObject","toNumber","EVALS","EVAL_NONE","EVAL_STAKEGUARD","EVAL_CURRENCY_DEFINITION","EVAL_NOTARY_EVIDENCE","EVAL_EARNEDNOTARIZATION","EVAL_ACCEPTEDNOTARIZATION","EVAL_FINALIZE_NOTARIZATION","EVAL_CURRENCYSTATE","EVAL_RESERVE_TRANSFER","EVAL_RESERVE_OUTPUT","EVAL_RESERVE_DEPOSIT","EVAL_CROSSCHAIN_EXPORT","EVAL_CROSSCHAIN_IMPORT","EVAL_IDENTITY_PRIMARY","EVAL_IDENTITY_COMMITMENT","EVAL_IDENTITY_RESERVATION","EVAL_FINALIZE_EXPORT","EVAL_FEE_POOL","EVAL_NOTARY_SIGNATURE","length","isValid","validEval","gt","BN","lt","lte","fromChunk","chunk","writer","default","BufferWriter","Buffer","alloc","encodingLength","writeCompactSize","params","fromBuffer","concat","buffer","toChunk","internalToBuffer","offset","reader","BufferReader","scriptInVector","readVarSlice","chunks","decompile","firstChunk","isBuffer","Error","chunkReader","readUInt8","gte","limit","eq","add","loop","currChunk","oneDest","TxDestination","push","internalGetByteLength","asChunk","forEach","x","buf","compile","getByteLength","scriptStore","len","writeSlice","writeVarSlice","toBuffer"],"sources":["/Users/oddfl3x/Code/bridge2/NATI<>bridge_API_SWAP/node_modules/verus-typescript-primitives/dist/pbaas/OptCCParams.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OptCCParams = void 0;\nconst bscript = require(\"../utils/script\");\nconst evals_1 = require(\"../utils/evals\");\nconst varuint_1 = require(\"../utils/varuint\");\nconst TxDestination_1 = require(\"./TxDestination\");\nconst bn_js_1 = require(\"bn.js\");\nconst bufferutils_1 = require(\"../utils/bufferutils\");\nclass OptCCParams {\n    constructor(data) {\n        if (data === null || data === void 0 ? void 0 : data.version)\n            this.version = data.version;\n        if (data === null || data === void 0 ? void 0 : data.eval_code)\n            this.eval_code = data.eval_code;\n        if (data === null || data === void 0 ? void 0 : data.m)\n            this.m = data.m;\n        if (data === null || data === void 0 ? void 0 : data.n)\n            this.n = data.n;\n        if (data === null || data === void 0 ? void 0 : data.destinations)\n            this.destinations = data.destinations;\n        else\n            this.destinations = [];\n        if (data === null || data === void 0 ? void 0 : data.vdata)\n            this.vdata = data.vdata;\n        else\n            this.vdata = [];\n    }\n    getParamObject() {\n        switch (this.eval_code.toNumber()) {\n            case evals_1.EVALS.EVAL_NONE:\n                {\n                    return null;\n                }\n            case evals_1.EVALS.EVAL_STAKEGUARD:\n            case evals_1.EVALS.EVAL_CURRENCY_DEFINITION:\n            case evals_1.EVALS.EVAL_NOTARY_EVIDENCE:\n            case evals_1.EVALS.EVAL_EARNEDNOTARIZATION:\n            case evals_1.EVALS.EVAL_ACCEPTEDNOTARIZATION:\n            case evals_1.EVALS.EVAL_FINALIZE_NOTARIZATION:\n            case evals_1.EVALS.EVAL_CURRENCYSTATE:\n            case evals_1.EVALS.EVAL_RESERVE_TRANSFER:\n            case evals_1.EVALS.EVAL_RESERVE_OUTPUT:\n            case evals_1.EVALS.EVAL_RESERVE_DEPOSIT:\n            case evals_1.EVALS.EVAL_CROSSCHAIN_EXPORT:\n            case evals_1.EVALS.EVAL_CROSSCHAIN_IMPORT:\n            case evals_1.EVALS.EVAL_IDENTITY_PRIMARY:\n            case evals_1.EVALS.EVAL_IDENTITY_COMMITMENT:\n            case evals_1.EVALS.EVAL_IDENTITY_RESERVATION:\n            case evals_1.EVALS.EVAL_FINALIZE_EXPORT:\n            case evals_1.EVALS.EVAL_FEE_POOL:\n            case evals_1.EVALS.EVAL_NOTARY_SIGNATURE:\n                {\n                    if (this.vdata.length) {\n                        return this.vdata[0];\n                    }\n                    else {\n                        return null;\n                    }\n                }\n            default:\n                {\n                    return null;\n                }\n        }\n    }\n    isValid() {\n        var validEval = false;\n        switch (this.eval_code.toNumber()) {\n            case evals_1.EVALS.EVAL_NONE:\n                {\n                    validEval = true;\n                    break;\n                }\n            case evals_1.EVALS.EVAL_STAKEGUARD:\n            case evals_1.EVALS.EVAL_CURRENCY_DEFINITION:\n            case evals_1.EVALS.EVAL_NOTARY_EVIDENCE:\n            case evals_1.EVALS.EVAL_EARNEDNOTARIZATION:\n            case evals_1.EVALS.EVAL_ACCEPTEDNOTARIZATION:\n            case evals_1.EVALS.EVAL_FINALIZE_NOTARIZATION:\n            case evals_1.EVALS.EVAL_CURRENCYSTATE:\n            case evals_1.EVALS.EVAL_RESERVE_TRANSFER:\n            case evals_1.EVALS.EVAL_RESERVE_OUTPUT:\n            case evals_1.EVALS.EVAL_RESERVE_DEPOSIT:\n            case evals_1.EVALS.EVAL_CROSSCHAIN_EXPORT:\n            case evals_1.EVALS.EVAL_CROSSCHAIN_IMPORT:\n            case evals_1.EVALS.EVAL_IDENTITY_PRIMARY:\n            case evals_1.EVALS.EVAL_IDENTITY_COMMITMENT:\n            case evals_1.EVALS.EVAL_IDENTITY_RESERVATION:\n            case evals_1.EVALS.EVAL_FINALIZE_EXPORT:\n            case evals_1.EVALS.EVAL_FEE_POOL:\n            case evals_1.EVALS.EVAL_NOTARY_SIGNATURE:\n                {\n                    validEval = this.vdata && this.vdata.length > 0;\n                }\n        }\n        return (validEval &&\n            this.version.gt(new bn_js_1.BN(0)) &&\n            this.version.lt(new bn_js_1.BN(4)) &&\n            ((this.version.lt(new bn_js_1.BN(3)) && this.eval_code.lt(new bn_js_1.BN(2))) ||\n                (this.eval_code.lte(new bn_js_1.BN(26)) && this.m.lte(this.n))));\n    }\n    static fromChunk(chunk) {\n        const writer = new bufferutils_1.default.BufferWriter(Buffer.alloc(varuint_1.default.encodingLength(chunk.length)), 0);\n        writer.writeCompactSize(chunk.length);\n        const params = new OptCCParams();\n        params.fromBuffer(Buffer.concat([writer.buffer, chunk]));\n        return params;\n    }\n    toChunk() {\n        return this.internalToBuffer(true);\n    }\n    fromBuffer(buffer, offset = 0) {\n        const reader = new bufferutils_1.default.BufferReader(buffer, offset);\n        const scriptInVector = reader.readVarSlice();\n        const chunks = bscript.decompile(scriptInVector);\n        const firstChunk = chunks[0];\n        if (!Buffer.isBuffer(firstChunk)) {\n            throw new Error('invalid first chunk date type');\n        }\n        if (firstChunk.length !== 4) {\n            throw new Error('invalid optional parameters header');\n        }\n        const chunkReader = new bufferutils_1.default.BufferReader(firstChunk, 0);\n        this.version = new bn_js_1.BN(chunkReader.readUInt8());\n        this.eval_code = new bn_js_1.BN(chunkReader.readUInt8());\n        this.m = new bn_js_1.BN(chunkReader.readUInt8());\n        this.n = new bn_js_1.BN(chunkReader.readUInt8());\n        // now, we should have n keys followed by data objects for later versions, otherwise all keys and one data object\n        if (this.version.lte(new bn_js_1.BN(0)) ||\n            this.version.gt(new bn_js_1.BN(3)) ||\n            this.eval_code.lt(new bn_js_1.BN(0)) ||\n            this.eval_code.gt(new bn_js_1.BN(0x1a)) || // this is the last valid eval code as of version 3\n            (this.version.lt(new bn_js_1.BN(3)) && this.n.lt(new bn_js_1.BN(1))) ||\n            this.n.gt(new bn_js_1.BN(4)) ||\n            (this.version.lt(new bn_js_1.BN(3)) && this.n.gte(new bn_js_1.BN(chunks.length))) ||\n            this.n.gt(new bn_js_1.BN(chunks.length))) {\n            // invalid header values\n            throw new Error('invalid header values');\n        }\n        // now, we have chunks left that are either destinations or data vectors\n        const limit = this.n.eq(new bn_js_1.BN(chunks.length)) ? this.n : this.n.add(new bn_js_1.BN(1));\n        this.destinations = [];\n        let loop;\n        for (loop = 1; this.version && loop < limit.toNumber(); loop++) {\n            const currChunk = chunks[loop];\n            if (Buffer.isBuffer(currChunk)) {\n                const oneDest = TxDestination_1.TxDestination.fromChunk(currChunk);\n                this.destinations.push(oneDest);\n            }\n        }\n        for (; this.version && loop < chunks.length; loop++) {\n            const currChunk = chunks[loop];\n            if (Buffer.isBuffer(currChunk))\n                this.vdata.push(currChunk);\n        }\n        return offset;\n    }\n    internalGetByteLength(asChunk) {\n        const chunks = [Buffer.alloc(4)];\n        chunks[0][0] = this.version.toNumber();\n        chunks[0][1] = this.eval_code.toNumber();\n        chunks[0][2] = this.m.toNumber();\n        chunks[0][3] = this.n.toNumber();\n        this.destinations.forEach(x => {\n            chunks.push(x.toChunk());\n        });\n        this.vdata.forEach(x => {\n            chunks.push(x);\n        });\n        const buf = bscript.compile(chunks);\n        return asChunk ? buf.length : (varuint_1.default.encodingLength(buf.length) + buf.length);\n    }\n    getByteLength() {\n        return this.internalGetByteLength(false);\n    }\n    internalToBuffer(asChunk) {\n        const chunks = [Buffer.alloc(4)];\n        chunks[0][0] = this.version.toNumber();\n        chunks[0][1] = this.eval_code.toNumber();\n        chunks[0][2] = this.m.toNumber();\n        chunks[0][3] = this.n.toNumber();\n        this.destinations.forEach(x => {\n            chunks.push(x.toChunk());\n        });\n        this.vdata.forEach(x => {\n            chunks.push(x);\n        });\n        const scriptStore = bscript.compile(chunks);\n        const buf = bscript.compile(chunks);\n        const len = asChunk ? buf.length : varuint_1.default.encodingLength(buf.length) + buf.length;\n        const buffer = Buffer.alloc(len);\n        const writer = new bufferutils_1.default.BufferWriter(buffer);\n        if (asChunk) {\n            writer.writeSlice(scriptStore);\n        }\n        else {\n            writer.writeVarSlice(scriptStore);\n        }\n        return writer.buffer;\n    }\n    toBuffer() {\n        return this.internalToBuffer(false);\n    }\n}\nexports.OptCCParams = OptCCParams;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}